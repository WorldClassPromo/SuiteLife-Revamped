<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>SuiteLife</title>
    <style>
		@import url(http://weloveiconfonts.com/api/?family=fontawesome);
		@import url(http://fonts.googleapis.com/css?family=Open+Sans:400,300);
		[class*="fontawesome-"]:before{
			font-family: 'fontawesome', sans-serif;		  
		}
		*,
		html{
			margin: 0;
			padding: 0;	
		}
		body{
			font-family: 'Open Sans', sans-serif;
			font-weight: 300;
			letter-spacing: 1px;
		}
		#wrapper{
			border: 1px solid #999;
			height: 600px;
			width: 100%;
			min-width: 6.5cm;
			background: #999;
		}
		#mainarea{
			background: #5D5D5D;
			height: 200px;	
		}
		#header{
			background: #fff;
			position: relative;
			height: 65px;
		}
		#home{
			display: block;
			width: 55%;
			text-align: center;
		}
		#home span{
			display: table-cell;
			vertical-align: middle;
			height: 55px;
			padding: 0 5px;			
		}
		#home img{
			height: 100%;
			border: 3px solid white;
		}
		#app-bar{
			height: 100%;
			width: 22%;
			position: absolute;
			top: 0;
			right: 0;
			font-size: 3em;
			color: #5D5D5D;	
			text-align: center;
			cursor: pointer;
			line-height: 1.2em;
		}
		#main-list{
			display: none;	
		}
		#main-list li{
			list-style-type: none;
		}
		#main-list li a{
			color: #fff;
			text-decoration: none;
			display: block;	
			background: #5D5D5D;
			padding: 0.5em 0 0.5em 1em;		
		}
		#main-list li ul a{
			padding-left: 2em;
			border-bottom: 1px solid #666;	
		}
		@media screen and (min-width: 16.5cm){ /* Targeting tablet devices */
			#header{
				/* background: red; */
			}
		}
		@media screen and (min-width: 26.5cm){
			#header{
				/* background: blue; */
			}	
			#main-list{
				display: block;
				/* border: 1px dotted red; */
				text-align: right;
				position: absolute;
				right: 5px;
				top: 25px;	
			}
			#main-list li{
				display: inline-block;
				width: auto;
				position: relative;
			}
			#main-list li a{
				color: #000;
				background: #fff;
				padding-right: 1em;			
			}
			#main-list li ul{
				position: absolute;
				top: 40px;
				left: 0;
				width: auto;
				white-space: nowrap;	
			}
			#main-list li ul a{
				background: #5D5D5D;
				color: #fff;				
			}
			#app-bar{
				display: none;	
			}
			#main-list li ul#services{
				left: -200px;	
			}
			#main-list li ul#aboutus{
				left: -400px;	
			}
		}
	</style>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js'></script>
    <script>
		$(document).ready(function(){
			controller.operate();
		});
		var $ = jQuery.noConflict(true); //Instantiate jQuery to this parent script tag only
		model = {
			screenSize: 0,
			smallScreen: function(){ //Returns true if the screen size is small
				if(model.screenSize < 16.5)
					return true;
			},
			mediumScreen: function(){ //Returns true if the screen size is medium
				if(model.screenSize >= 16.5 && model.screenSize < 26.5)
					return true;
			},
			largeScreen: function(){ //Returns true if the screen size if large
				if(model.screenSize >= 26.5)
					return true;
			},
			pixels2Cm: function(){
				var dpr = window.devicePixelRatio;
				var dpi = dpr * 96;
				var cm = 2.54;
				return {
					cm: cm,
					dpi: dpi, 
					dpr: dpr
				};			
			},
			screenDetector: function(){ //Mimics CSS absolute measurement in cm
				var viewportSize, resolution;
				resolution = this.pixels2Cm();
				function result(){
					viewportSize = $(this).width();
					viewportWidth = (viewportSize/resolution.dpi) * resolution.cm;
					model.screenSize = viewportWidth;
				}
				return result();
			}			
		}
		view = {
			hideSubMenu: function(){ //Automatically hide submenus for tidyness
				$('#main-list ul').hide();	
			},
			handleAppMenu: function(){ //Shows and hides the app bar menu
				$('#main-list').toggle(100, false,
					function(){
						$(this).animate({
							width: 'auto'
						}, 100);
					}
				);	 
			},
			handleSubAppMenu: function(el){	//Shows and hides the app bar submenus	
				el.parent('li').children('ul:first').toggle(100, false, view.updateExpandCue(el));
				if(model.largeScreen()){
					$('.sub-menu').hide(); //Hide all sub menu items
					this.specifyCue($('.cue'), '+'); //Update all cues to their hidden state
					el.parent('li').children('ul:first').show(); //Expand the sub menu the user has clicked on
					this.specifyCue(el.parent('li').children('a').children('.cue'), '-'); //Update the cue to its expanded state
				}
			},
			hideSubAppMenu: function(el){
				el.parent('li').children('ul:first').hide(100, view.updateExpandCue(el.parent('li').children('a')));
				
			},
			updateExpandCue: function(el){ //Update the visual cue accordingly
				var content = el.children('span.cue').text();
				if(content === '+') el.children('span.cue').text('-');
				else el.children('span.cue').text('+');
			},
			specifyCue: function(cue, value){
				cue.text(value);
			}
		}
		controller = {
			operate: function(){
				view.hideSubMenu();
				this.appMenu();
				this.subAppMenu();
				this.screenReport();	
			},
			appMenu : function(){ //What happens when the user clicks the app-bar
				$('#app-bar').on('click' , function(){
					view.handleAppMenu();
				});
			},
			subAppMenu: function(){ //What happens when the user clicks a sub-menu item
				$('.expand').on('click', function(){
					view.handleSubAppMenu($(this));
					/* if(model.largeScreen()){
						$(this).parent('li').children('ul:first').on('mouseout', function(){
							view.hideSubAppMenu($(this));
						});				
					} */
				});
			},
			screenReport: function(){ //Asks a screen report each time the screen size changes
				model.screenDetector(); //But read the screen initial size when the page is loaded
				$(window).resize(function(){
					model.screenDetector();	
				});				
			}
		}		
	</script>
</head>
    <body>
        <div id='wrapper'>
            <div id='header'>
            	<a id='home' href='#'><span><img src='images/SuiteLifeLogoMobile.png' /></span></a>
            	<span id='app-bar' class='fontawesome-reorder'></span>
                <ul id='main-list'>
                	<li><a href='#' class='expand'>Real Estate <span class='cue'>+</span></a>
                    	<ul class='sub-menu'>
							<li><a href="#">Apartments for Rent</a></li>
							<li><a href="#">Apartments for Sale</a></li>
							<li><a href="#">List your property</a></li>	
                        </ul>
                    </li>
                    <li><a href='#'>Neighborhoods</a></li>
                    <li><a href='#'>Blogs</a></li>
                    <li><a href='#' class='expand'>Services <span class='cue'>+</span></a>
                    	<ul id='services' class='sub-menu'>
							<li><a href="#">Relocation packages</a></li>
							<li><a href="#">SL recommended services</a></li>
                    	</ul>
                    </li>
                    <li><a href='#' class='expand'>About us <span class='cue'>+</span></a>
                    	<ul id='aboutus' class='sub-menu'>
							<li><a href="#">Meet the company</a></li>
							<li><a href="#">Meet Benny</a></li>
							<li><a href="#">Internships</a></li>
							<li><a href="#">Collaborate</a></li>   
                         </ul>
                    </li>
                    <li><a href='#'>FAQ</a></li>
                    <li><a href='#'>Contact</a></li>
                </ul>
            </div>
            <div id='mainarea'></div>
            <div id='secondaryarea'></div>
            <div id='footer'></div>
        </div>
    </body>
</html>